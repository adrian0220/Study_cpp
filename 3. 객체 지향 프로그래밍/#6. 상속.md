# 6. 상속

<br/>
<br/>

## 1) 상속(Inheritance)이란?

<br/>

### 1-1) 개요

<br/>

상속(inheritance)은 추상화, 캡슐화와 더불어 객체 지향 프로그래밍을 구성하는 중요한 특징이다. <br/>
상속의 가장 큰 장점은 코드 재활용성이다. <br/>
클래스 간의 계층적 관계를 구성하게하여, 앞서 배운 다형성의 토대를 마련한다. <br/>

<br/>
<br/>

### 1-2) 클래스 상속

<br/>

클래스 상속의 개념을 이해하기 위해 앞서 사용했던 Car의 개념을 확장해보자. <br/>

<br/>

아래와 같이 클래스 구조를 이루고 있다고 생각해보자. <br/>

<br/>

![](https://github.com/adrian0220/Study_cpp/blob/main/_src/inheritance.GIF)

<br/>

이 클래스의 구조를 살펴보면, 우선 Car라는 최상위 클래스가 존재한다. <br/>
그리고 그 아래 Car의 자식 클래스이자 파생 클래스인 Sonata, Tiguan, E_class가 존재한다. <br/>
마지막으로 E_class의 아래에 E_class2가 또 존재한다. <br/>

<br/>

클래스 상속이란, 상위 클래스에 정의 되어 있는 모든 클래스의 멤버 변수와 함수를 물려받아 새로운 클래스를 만드는 것을 의미한다. <br/>

<br/>

__클래스 상속의 장점__

<br/>

클래스를 상속을 통해 구현한다면 아래와 같은 장점이 존재한다. <br/>

<br/>

- 기존에 작성된 클래스의 재활용이 가능하다. <br/>
- 여러 클래스가 공통적인 부분을 포함하고 있는 경우 상위 클래스를 미리 작성해 중복 부분을 제거한다.<br/>

<br/>
<br/>

__클래스 상속 용어__

<br/>

- 기초 클래스(Base Class) : 클래스 단계 중 최상위에 있는 클래스. 하위 클래스는 모두 기초 클래스의 변수를 가진다.<br/>
- 부모 클래스(Parent Class), 상위 클래스(Super Class) : 특정 클래스가 상속을 받아 변수를 공유하는 상위 클래스 <br/>
- 파생 클래스(Derived Class), 자식 클래스(Child Class), 하위 클래스(Sub Class) : 상속을 통해 생성되는 하위 클래스 <br/>

<br/>

이를 통해 위에 있는 계층 구조를 작성하게 되면 아래와 같이 구현된다. <br/>

<br/>

```c++
#include <iostream>
#include <string>
using namespace std;

class Car{
	public:
		virtual void Run() = 0;
};

class Sonata : public Car{
	public:
		virtual void Run(){
			cout <<  "Run Sonata" << endl;
		}
};

class Tiguan : public Car{
	public:
		virtual void Run(){
			cout << "Run Tiguan" << endl;
		}
};

class E_class : public Car{
	public:
		virtual void Run(){
			cout << "Run E_class" << endl;
		}
};

class E_class2 : public E_class {
	public:
		virtual void Run(){
			cout << "Run E_class2" << endl;
		}
};


int main() {

	Car* car1 = new Sonata;
	Car* car2 = new Tiguan;
	Car* car3 = new E_class2;
	
	car3->Run();
	
	return 0;
}
```

<br/>
<br/>

# 2) 파생 클래스

<br/>

파생 클래스란 상위 클래스의 모든 속성을 물려받아 생성된 클래스이다. <br/>

<br/>

상속은 꼭 하나의 클래스로부터 받을 필요는 없다. <br/>

<br/>

- 단일 상속 (Single Inheritance) : 파생 클래스가 상속 받는 상위 클래스가 하나 <br/>
- 다중 상속 (Multiple Inheritance) : 파생 클래스가 상속 받는 상위 클래스가 여러개 <br/>

<br/>

__파생 클래스의 특징__

<br/>


C++에서 파생 클래스는 다음과 같은 특징을 가지고 있다. <br/>

<br/>

- 파생 클래스는 반드시 자신만의 생성자를 작성해야 한다. <br/>
- 파생 클래스에는 기초 클래스의 접근할 수 있는 모든 멤버 변수들이 저장된다. <br/>
- 파생 클래스는 기초 클래스의 접근할 수 있는 모든 멤버 함수를 사용할 수 있다. <br/>
- 파생 클래스에는 필요한 만큼 멤버를 추가할 수 있다. <br/>

<br/>

__파생 클래스의 선언__

<br/>

파생 클래스의 경우 아래와 같이 선언 가능하다.<br/>

<br/>

```c++
#include <iostream>
#include <string>
using namespace std;

class Car{
	private:
		int number;
		string company;
	
	public:
		Car(int number_, const string& company_);
		virtual void Run() = 0;
		int getNumber(){
			return number;
		}
};

class Sonata : public Car{
	private:
		int series;
	
	public:
		Sonata(int number, const string& company, int series_);
		virtual void Run(){
			cout <<  "Run Sonata" << endl;
		}
};

class Tiguan : public Car{
	public:
		virtual void Run(){
			cout << "Run Tiguan" << endl;
		}
};

class E_class : public Car{
	public:
		virtual void Run(){
			cout << "Run E_class" << endl;
		}
};

class E_class2 : public E_class {
	public:
		virtual void Run(){
			cout << "Run E_class2" << endl;
		}
};

Car::Car(int number_, const string& company_){
	number = number_;
	company = company_;
};

Sonata::Sonata(int number_, const string& company_, int series_) : Car(number_, company_){
	series = series_;
};

int main() {

	Car* car1 = new Sonata(5885, "Hyundae", 3);
	
	cout << car1->getNumber() << endl;
	
	return 0;
}
```

<br/>

__출력 결과__

<br/>

> 5885 <br/>

<br/>

위와 같이 생성자의 상속도 가능하다. <br/>
또한 파생 클래스의 생성자에는 별도로 다시 변수를 선언하지 않아도 된다. <br/>

<br/>

__파생 클래스의 객체 생성 순서__

<br/> 

C++에서 파생 클래스의 객체가 생성되는 순서는 다음과 같다. <br/>

<br/>
 
- 파생 클래스의 객체를 생성하면, 프로그램은 제일 먼저 기초 클래스의 생성자를 호출한다. <br/>
- 기초 클래스 생성사 호출 시 기초 클래스로부터 상속받은 멤버 변수의 초기화를 진행한다. <br/>
- 파생 클래스의 생성자가 호출된다. <br/>
- 파생 클래스의 수명이 다하면, 먼저 파생 클래스의 소멸자가 호출되고 그 다음 기초 클래스의 소멸자가 호출된다. <br/>

<br/>
<br/>

## 3) 멤버 함수 오버라이딩

<br/>
